# =============================================================================
# KB-Engine Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values

# -----------------------------------------------------------------------------
# General
# -----------------------------------------------------------------------------
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1

# -----------------------------------------------------------------------------
# PostgreSQL (Traceability Store)
# -----------------------------------------------------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=kb_engine
POSTGRES_PASSWORD=changeme
POSTGRES_DB=kb_engine
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# -----------------------------------------------------------------------------
# Qdrant (Vector Store)
# -----------------------------------------------------------------------------
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_API_KEY=
QDRANT_COLLECTION=kb_engine_embeddings

# -----------------------------------------------------------------------------
# Neo4j (Graph Store)
# -----------------------------------------------------------------------------
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=changeme

# -----------------------------------------------------------------------------
# Embeddings
# -----------------------------------------------------------------------------
EMBEDDING_PROVIDER=local
LOCAL_EMBEDDING_MODEL=all-mpnet-base-v2

# -----------------------------------------------------------------------------
# OpenAI (optional, for embedding_provider=openai)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-key-here
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_CHAT_MODEL=gpt-4-turbo-preview

# -----------------------------------------------------------------------------
# Chunking Configuration (ADR-0002)
# -----------------------------------------------------------------------------
CHUNK_SIZE_MIN=100
CHUNK_SIZE_TARGET=512
CHUNK_SIZE_MAX=1024
CHUNK_OVERLAP=50

# -----------------------------------------------------------------------------
# Extraction Configuration (ADR-0003)
# -----------------------------------------------------------------------------
EXTRACTION_USE_LLM=true
EXTRACTION_CONFIDENCE_THRESHOLD=0.7
